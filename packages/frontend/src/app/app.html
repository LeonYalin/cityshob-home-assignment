<div class="container">
  <header class="header">
    <h1>{{ title() }}</h1>
    <p>Testing Frontend to Backend API Connection</p>
  </header>

  <main class="main">
    <!-- Loading State -->
    @if (isLoading()) {
      <div class="loading">
        <p>🔄 Testing API connection...</p>
      </div>
    }

    <!-- Error State -->
    @if (error()) {
      <div class="error">
        <h3>❌ Connection Error</h3>
        <p>{{ error() }}</p>
        <button (click)="retryConnection()" class="retry-btn">
          🔄 Retry Connection
        </button>
      </div>
    }

    <!-- Success State -->
    @if (healthData() && helloData() && !isLoading()) {
      <div class="success">
        <h3>✅ API Connection Successful!</h3>
        
        <div class="api-results">
          <div class="result-card">
            <h4>Health Check (/api/health)</h4>
            <pre>{{ healthData() | json }}</pre>
          </div>
          
          <div class="result-card">
            <h4>Hello Endpoint (/api/hello)</h4>
            <pre>{{ helloData() | json }}</pre>
          </div>
        </div>

        <button (click)="retryConnection()" class="test-btn">
          🧪 Test Again
        </button>
      </div>
    }
  </main>

  <footer class="footer">
    <p>Backend: <a href="http://localhost:4000" target="_blank">http://localhost:4000</a></p>
    <p>Frontend: <a href="http://localhost:4200" target="_blank">http://localhost:4200</a></p>
  </footer>
</div>

<router-outlet />